@page "/persons"
@rendermode InteractiveServer
@using MudBlazorTable.Repositories
@inject PersonsRepository _personsRepository;
@using Person = MudBlazorTable.Models.Person;
<h3>Persons</h3>

<MudTable Items="@persons.Take(10)" Hover="true" Loading="false">
    <HeaderContent>
        <MudTh>First Name</MudTh>
        <MudTh>Last Name</MudTh>
        <MudTh>Address</MudTh>
        <MudTh>Email</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="First Name">@context.FirstName</MudTd>
        <MudTd DataLabel="Last Name">@context.LastName</MudTd>
        <MudTd DataLabel="Address">@context.Address</MudTd>
        <MudTd DataLabel="Email">@context.Email</MudTd>
    </RowTemplate>
</MudTable>

@code {

    List<Person> persons = new List<Person>();

    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(500);
        persons = _personsRepository.Get();

    }

}
